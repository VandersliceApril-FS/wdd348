(this["webpackJsonphome-library"]=this["webpackJsonphome-library"]||[]).push([[0],{67:function(e,t,c){},68:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(29),s=c.n(r),i=c(8),o=c(34),l=c(13),b=function(e,t){switch(t.type){case"ADD_BOOK":return Object(l.a)(Object(l.a)({},e),{},{savedBooks:[t.payload].concat(Object(o.a)(e.savedBooks))});case"DELETE_BOOK":return Object(l.a)(Object(l.a)({},e),{},{savedBooks:e.savedBooks.filter((function(e){return e.id!==t.payload}))});default:return e}},j=c(0),d={savedBooks:[{id:"0000",title:"On Writing Well",author_name:["William Zinsser"],cover_i:"20450",isbn:["9780060891541"]}]},u=Object(n.createContext)(d),h=function(e){var t=e.children,c=Object(n.useReducer)(b,d),a=Object(i.a)(c,2),r=a[0],s=a[1];return Object(j.jsx)(u.Provider,{value:{savedBooks:r.savedBooks,addBook:function(e){s({type:"ADD_BOOK",payload:e})},deleteBook:function(e){s({type:"DELETE_BOOK",payload:e})}},children:t})},O=c(9),m=c(2),x=c(19),v=c.n(x),f=c(30),p=c(31),y=c.n(p);var g=function(e){var t=e.getQuery,c=Object(n.useState)(""),a=Object(i.a)(c,2),r=a[0],s=a[1];return Object(j.jsx)("form",{children:Object(j.jsx)("input",{type:"text",placeholder:"search a title",value:r,onChange:function(e){return c=e.target.value,s(c),void t(c);var c}})})};var k=function(e){var t=e.result,c=Object(n.useContext)(u).addBook,a=Object(n.useState)(!1),r=Object(i.a)(a,2),s=r[0],o=r[1];return Object(j.jsxs)("article",{className:"resultContainer",children:[Object(j.jsx)("div",{className:"card",children:Object(j.jsxs)("section",{className:"bookResultInfo",children:[Object(j.jsx)("h2",{className:"resultTitle",children:t.title}),t.author_name&&Object(j.jsxs)("h4",{className:"author",children:["by ",t.author_name[0]]}),t.isbn&&Object(j.jsxs)("p",{className:"identifiers",children:["ISBN: ",t.isbn[0]]})]})}),s?Object(j.jsx)("button",{disabled:!0,className:"successAlert",children:"Book Added!"}):Object(j.jsx)("button",{className:"linkButton",onClick:function(){console.log("add button clicked");var e={id:"".concat(t._version_),title:"".concat(t.title),author_name:"".concat(t.author_name[0]),cover_i:"".concat(t.cover_i),first_publish_year:"".concat(t.first_publish_year),isbn:"".concat(t.isbn[0])};c(e),o(!0)},children:"Add"})]})};var _=function(e){var t=e.isLoading,c=e.searchResults;return t?Object(j.jsx)("h1",{children:"Loading..."}):Object(j.jsx)("section",{className:"resultsContainer",children:c.map((function(e){return Object(j.jsx)(k,{result:e},e._version_)}))})};var N=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(!0),s=Object(i.a)(r,2),o=s[0],l=s[1],b=Object(n.useState)(null),d=Object(i.a)(b,2),u=d[0],h=d[1];return Object(n.useEffect)((function(){function e(){return(e=Object(f.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y()("https://openlibrary.org/search.json?title=".concat(c,"&fields=title,author_name,cover_i,first_publish_year,_version_,isbn,availability&limit=10"));case 2:t=e.sent,h(t.data.docs),l(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}""!==c&&function(){e.apply(this,arguments)}()}),[c]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(g,{getQuery:function(e){return a(e)}}),u&&Object(j.jsx)(_,{isLoading:o,searchResults:u})]})},B=c.p+"static/media/book.becac9f6.png";var S=function(e){var t=e.book,c=Object(n.useContext)(u).deleteBook,a="http://covers.openlibrary.org/b/id/".concat(t.cover_i,"-L.jpg");return Object(j.jsxs)("article",{className:"cardContainer",children:[Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("div",{className:"coverContainer",children:t.cover_i?Object(j.jsx)("img",{src:a,alt:"book cover",className:"coverImage"}):Object(j.jsx)("img",{src:B,alt:"cover not available",className:"coverImage"})}),Object(j.jsxs)("section",{className:"bookInfo",children:[Object(j.jsx)("h2",{className:"title",children:t.title}),t.author_name&&Object(j.jsxs)("h4",{className:"author",children:["by ",t.author_name]}),t.isbn&&Object(j.jsxs)("p",{className:"identifiers",children:["ISBN: ",t.isbn]})]})]}),Object(j.jsx)("button",{className:"deleteButton",onClick:function(){return c(t.id)},children:"x"})]})},C={instruction:{textAlign:"center",margin:"4rem"}};var L=function(){var e=Object(n.useContext)(u).savedBooks;return 0===e.length?Object(j.jsx)("h5",{style:C.instruction,children:"Search for books to add to your library"}):Object(j.jsx)("section",{className:"libraryContainer",children:e.map((function(e){return Object(j.jsx)(S,{book:e},e.id)}))})};var A=function(){return Object(j.jsxs)("section",{className:"homeContainer",children:[Object(j.jsxs)("div",{className:"aboutContainer",children:[Object(j.jsxs)("h1",{className:"homeHeader",children:[Object(j.jsx)("strong",{children:"Keep track"})," of all books in your library"]}),Object(j.jsx)("p",{className:"homeAbout",children:"We currently live in a sort of limbo where some of our books live on the shelf and some live in a device. Keep track of both digital and physical books by cataloguing them in home library."})]}),Object(j.jsx)(O.b,{to:"/SearchBooks",children:Object(j.jsx)("button",{className:"buttonPrimary",children:"Start Adding Books"})})]})},E=function(){return Object(j.jsxs)(m.c,{children:[Object(j.jsx)(m.a,{exact:!0,path:"/",component:A}),Object(j.jsx)(m.a,{exact:!0,path:"/MyLibrary",component:L}),Object(j.jsx)(m.a,{path:"/SearchBooks",component:N})]})};var I=function(){return Object(j.jsxs)("nav",{children:[Object(j.jsx)(O.b,{className:"navLink",to:"/MyLibrary",activeStyle:{fontSize:"1.5rem",fontWeight:"700",color:"#463f3a"},children:"My Library"}),Object(j.jsx)(O.b,{className:"navLink",to:"/SearchBooks",activeStyle:{fontSize:"1.5rem",fontWeight:"700",color:"#463f3a"},children:"Search Books"})]})},D=c.p+"static/media/brand-01.185625ff.png",W=(c(67),{container:{maxWidth:"90rem",height:"100vh"},brand:{height:"2rem"},header:{display:"flex",justifyContent:"center",margin:"2rem 0 .5rem 0"},main:{margin:"1rem auto"}});var w=function(){return Object(j.jsx)(h,{children:Object(j.jsx)(O.a,{children:Object(j.jsxs)("div",{style:W.container,children:[Object(j.jsx)("header",{style:W.header,children:Object(j.jsx)(O.b,{to:"/",children:Object(j.jsx)("img",{src:D,alt:"bookshelf brand icon",style:W.brand})})}),Object(j.jsx)(I,{}),Object(j.jsx)("main",{style:W.main,children:Object(j.jsx)(E,{})})]})})})},K=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,69)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};s.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(w,{})}),document.getElementById("root")),K()}},[[68,1,2]]]);
//# sourceMappingURL=main.ef39c349.chunk.js.map